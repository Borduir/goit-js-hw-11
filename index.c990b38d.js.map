{"mappings":"IASAA,EAToBC,MAAOC,EAAYC,EAAMC,KAC3CF,EAAWG,IAAI,OAAQF,GACvBD,EAAWG,IAAI,IAAKD,EAAME,QAAQ,IAAK,MACvC,MAAMC,QAAiBC,MACrB,4BAA4BN,EAAWO,cAGzC,aADqBF,EAASG,QCNhC,IAAIC,EAAe,GACnB,MAAMC,EAAUC,SAASC,cAAc,Y,IA0CvCC,EAzCsB,CAACC,EAASC,EAASC,KACrB,IAAdA,IACFP,EAAe,IAGjB,IAAK,IAAIQ,EAAI,EAAGA,EAAIH,EAAQI,KAAKC,OAAQF,GAAK,EAAG,CAC/C,MAAMG,aAEJA,EAAYC,cACZA,EAAaC,KACbA,EAAIC,MACJA,EAAKC,MACLA,EAAKC,SACLA,EAAQC,UACRA,GACEZ,EAAQI,KAAKD,GACjBF,GAAW,yCACDK,uIAGQG,+DAGAC,kEAGGC,mEAGCC,8DAGLJ,gCAOnB,OAFAb,GAAgBM,EAChBL,EAAQiB,UAAYlB,EACbM,GCpCT,MAAMa,EAAajB,SAASC,cAAc,gBACpCiB,EAAclB,SAASC,cAAc,wBACrCkB,EAAcnB,SAASC,cAAc,cAE3C,IAAImB,EAAa,EACbC,EAAY,EAChBF,EAAYG,MAAMC,QAAU,OAC5B,IAAIC,EAAW,EACXC,EAAU,GAEd,MAAMC,EAAe,IAAIC,gBAAgB,CACvCC,IAAK,qCACLC,WAAY,QACZC,YAAa,aACbC,WAAY,OACZC,SAAU,KAKZf,EAAWgB,iBAAiB,UAAUC,IACpCA,EAAEC,iBACFf,EAAa,EACbC,EAAY,EACZlC,EAAYuC,EAAcN,EAAYF,EAAYkB,OAC/CC,MAAKC,IACqB,IAArBA,EAAOC,WACTf,EAAWc,EAAOC,UAAYD,EAAO/B,KAAKC,OAC1CiB,EAAU,GACVvB,EAAcoC,EAAQb,EAASJ,GAC/BF,EAAYG,MAAMC,QAAU,SAE5BJ,EAAYG,MAAMC,QAAU,OAC5BiB,MACE,gFAILC,OAAMC,GAASF,MAAME,QAK1BvB,EAAYc,iBAAiB,SAAS,KAChCZ,GAAasB,KAAKC,KAAKpB,GAAY,IACrCH,GAAa,EACbD,EAAaC,GAEflC,EAAYuC,EAAcN,EAAYF,EAAYkB,OAC/CC,MAAKC,IACAjB,IAAcsB,KAAKC,KAAKpB,KAC1BL,EAAYG,MAAMC,QAAU,OAC5BiB,MAAM,+DAERtC,EAAcoC,EAAQb,EAASJ,MAEhCoB,OAAMC,GAASF,MAAME","sources":["src/js/fetchimages.js","src/js/createMarckup.js","src/index.js"],"sourcesContent":["const fetchImages = async (parameters, page, query) => {\n  parameters.set('page', page);\n  parameters.set('q', query.replace(' ', '+'));\n  const response = await fetch(\n    `https://pixabay.com/api/?${parameters.toString()}`\n  );\n  const images = await response.json();\n  return images;\n};\nexport default fetchImages;\n","let marckupTotal = '';\nconst gallery = document.querySelector('.gallery');\nconst createMarckup = (imgList, marckup, pageCount) => {\n  if (pageCount === 1) {\n    marckupTotal = '';\n  }\n\n  for (let i = 0; i < imgList.hits.length; i += 1) {\n    const {\n      // ${}\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    } = imgList.hits[i];\n    marckup += `<div class=\"photo-card\">\n  <img src=\"${webformatURL}\" width = 300px height = 200px alt=\"photo\" loading=\"lazy\" />\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes:</b> ${likes}\n    </p>\n    <p class=\"info-item\">\n      <b>Views:</b> ${views}\n    </p>\n    <p class=\"info-item\">\n      <b>Comments:</b> ${comments}\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads:</b> ${downloads}\n    </p>\n    <p class=\"info-item\">\n      <b>tags:</b> ${tags}\n    </p>\n  </div>\n</div>`;\n  }\n  marckupTotal += marckup;\n  gallery.innerHTML = marckupTotal;\n  return marckup;\n};\nexport default createMarckup;\n","// API KEY 30336513-f1d3dcf5d3b6560ebccde30e0\n\nimport fetchImages from './js/fetchimages';\nimport createMarckup from './js/createMarckup';\n\nconst searchForm = document.querySelector('.search-form');\nconst searchQuery = document.querySelector('[name=\"searchQuery\"]');\nconst loadMoreBtn = document.querySelector('.load-more');\n\nlet pageNumber = 1;\nlet pageCount = 1;\nloadMoreBtn.style.display = 'none';\nlet maxPages = 1;\nlet marckup = '';\n\nconst searchParams = new URLSearchParams({\n  key: '30336513-f1d3dcf5d3b6560ebccde30e0',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: 'true',\n  per_page: 40,\n});\n\n//GET IMAGES LIST\n\nsearchForm.addEventListener('submit', e => {\n  e.preventDefault();\n  pageNumber = 1;\n  pageCount = 1;\n  fetchImages(searchParams, pageNumber, searchQuery.value)\n    .then(images => {\n      if (images.totalHits !== 0) {\n        maxPages = images.totalHits / images.hits.length;\n        marckup = '';\n        createMarckup(images, marckup, pageCount);\n        loadMoreBtn.style.display = 'flex';\n      } else {\n        loadMoreBtn.style.display = 'none';\n        alert(\n          'Sorry, there are no images matching your search query. Please try again.'\n        );\n      }\n    })\n    .catch(error => alert(error));\n});\n\n//LOAD MORE IMAGES\n\nloadMoreBtn.addEventListener('click', () => {\n  if (pageCount <= Math.ceil(maxPages) - 1) {\n    pageCount += 1;\n    pageNumber = pageCount;\n  }\n  fetchImages(searchParams, pageNumber, searchQuery.value)\n    .then(images => {\n      if (pageCount === Math.ceil(maxPages)) {\n        loadMoreBtn.style.display = 'none';\n        alert(\"We're sorry, but you've reached the end of search results.\");\n      }\n      createMarckup(images, marckup, pageCount);\n    })\n    .catch(error => alert(error));\n});\n"],"names":["$d13d1c5eababd4e8$export$2e2bcd8739ae039","async","parameters","page","query","set","replace","response","fetch","toString","json","$1056e7dbd0737d64$var$marckupTotal","$1056e7dbd0737d64$var$gallery","document","querySelector","$1056e7dbd0737d64$export$2e2bcd8739ae039","imgList","marckup","pageCount","i","hits","length","webformatURL","largeImageURL","tags","likes","views","comments","downloads","innerHTML","$1f0dc3b9307be026$var$searchForm","$1f0dc3b9307be026$var$searchQuery","$1f0dc3b9307be026$var$loadMoreBtn","$1f0dc3b9307be026$var$pageNumber","$1f0dc3b9307be026$var$pageCount","style","display","$1f0dc3b9307be026$var$maxPages","$1f0dc3b9307be026$var$marckup","$1f0dc3b9307be026$var$searchParams","URLSearchParams","key","image_type","orientation","safesearch","per_page","addEventListener","e","preventDefault","value","then","images","totalHits","alert","catch","error","Math","ceil"],"version":3,"file":"index.c990b38d.js.map"}