{"mappings":"IAWAA,EAXoBC,MAAOC,EAAYC,EAAMC,KAC3CC,QAAQC,IAAIF,GACZF,EAAWK,IAAI,OAAQJ,GACvBD,EAAWK,IAAI,IAAKH,EAAMI,QAAQ,IAAK,MACvCH,QAAQC,IAAIJ,EAAWO,YACvB,MAAMC,QAAiBC,MACrB,4BAA4BT,EAAWO,cAGzC,aADqBC,EAASE,Q,ICAhCC,EARsBC,IACpB,MAAMC,EAAUC,SAASC,cAAc,gBACvC,IAAIC,EAAU,GACd,IAAK,IAAIC,EAAI,EAAGA,EAAIL,EAAQM,OAAQD,GAAK,EACvCD,GAAW,GACXH,EAAQM,UAAYH,GCAxB,MAAMI,EAAaN,SAASC,cAAc,gBACpCM,EAAcP,SAASC,cAAc,wBACrCO,EAAcR,SAASC,cAAc,cAE3C,IAAIQ,EAAa,EACbC,EAAY,EAChBF,EAAYG,MAAMC,QAAU,OAC5B,IAAIC,EAAW,EAEf,MAAMC,EAAe,IAAIC,gBAAgB,CACvCC,IAAK,qCACLC,WAAY,QACZC,YAAa,aACbC,WAAY,OACZC,SAAU,KAKZd,EAAWe,iBAAiB,UAAUC,IACpCA,EAAEC,iBACFd,EAAa,EACbC,EAAY,EACZ1B,EAAY8B,EAAcL,EAAYF,EAAYiB,OAC/CC,MAAKC,IACJb,EAAWa,EAAOC,UAAYD,EAAOE,KAAKxB,OAC1CP,EAAc6B,MAEfG,OAAMC,GAASzC,QAAQC,IAAIwC,KAC9BtB,EAAYG,MAAMC,QAAU,UAK9BJ,EAAYa,iBAAiB,SAAS,KAChCX,GAAaqB,KAAKC,KAAKnB,GAAY,IACrCH,GAAa,EACbD,EAAaC,GAEf1B,EAAY8B,EAAcL,EAAYF,EAAYiB,OAC/CC,MAAKC,IACAhB,IAAcqB,KAAKC,KAAKnB,KAC1BL,EAAYG,MAAMC,QAAU,QAE9BvB,QAAQC,IAAIoB,EAAWgB,EAAOC,UAAYD,EAAOE,KAAKxB,QACtDP,EAAc6B,MAEfG,OAAMC,GAASzC,QAAQC,IAAIwC","sources":["src/js/fetchimages.js","src/js/createMarckup.js","src/index.js"],"sourcesContent":["const fetchImages = async (parameters, page, query) => {\n  console.log(query);\n  parameters.set('page', page);\n  parameters.set('q', query.replace(' ', '+'));\n  console.log(parameters.toString());\n  const response = await fetch(\n    `https://pixabay.com/api/?${parameters.toString()}`\n  );\n  const images = await response.json();\n  return images;\n};\nexport default fetchImages;\n","const createMarckup = imgList => {\n  const gallery = document.querySelector('.gallery__ul');\n  let marckup = '';\n  for (let i = 0; i < imgList.length; i += 1) {\n    marckup += ``;\n    gallery.innerHTML = marckup;\n  }\n};\nexport default createMarckup;\n","// API KEY 30336513-f1d3dcf5d3b6560ebccde30e0\n\nimport fetchImages from './js/fetchimages';\nimport createMarckup from './js/createMarckup';\n\nconst searchForm = document.querySelector('.search-form');\nconst searchQuery = document.querySelector('[name=\"searchQuery\"]');\nconst loadMoreBtn = document.querySelector('.load-more');\n\nlet pageNumber = 1;\nlet pageCount = 1;\nloadMoreBtn.style.display = 'none';\nlet maxPages = 1;\n\nconst searchParams = new URLSearchParams({\n  key: '30336513-f1d3dcf5d3b6560ebccde30e0',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: 'true',\n  per_page: 40,\n});\n\n//GET IMAGES LIST\n\nsearchForm.addEventListener('submit', e => {\n  e.preventDefault();\n  pageNumber = 1;\n  pageCount = 1;\n  fetchImages(searchParams, pageNumber, searchQuery.value)\n    .then(images => {\n      maxPages = images.totalHits / images.hits.length;\n      createMarckup(images);\n    })\n    .catch(error => console.log(error));\n  loadMoreBtn.style.display = 'flex';\n});\n\n//LOAD MORE IMAGES\n\nloadMoreBtn.addEventListener('click', () => {\n  if (pageCount <= Math.ceil(maxPages) - 1) {\n    pageCount += 1;\n    pageNumber = pageCount;\n  }\n  fetchImages(searchParams, pageNumber, searchQuery.value)\n    .then(images => {\n      if (pageCount === Math.ceil(maxPages)) {\n        loadMoreBtn.style.display = 'none';\n      }\n      console.log(pageCount, images.totalHits / images.hits.length);\n      createMarckup(images);\n    })\n    .catch(error => console.log(error));\n});\n"],"names":["$d13d1c5eababd4e8$export$2e2bcd8739ae039","async","parameters","page","query","console","log","set","replace","toString","response","fetch","json","$1056e7dbd0737d64$export$2e2bcd8739ae039","imgList","gallery","document","querySelector","marckup","i","length","innerHTML","$1f0dc3b9307be026$var$searchForm","$1f0dc3b9307be026$var$searchQuery","$1f0dc3b9307be026$var$loadMoreBtn","$1f0dc3b9307be026$var$pageNumber","$1f0dc3b9307be026$var$pageCount","style","display","$1f0dc3b9307be026$var$maxPages","$1f0dc3b9307be026$var$searchParams","URLSearchParams","key","image_type","orientation","safesearch","per_page","addEventListener","e","preventDefault","value","then","images","totalHits","hits","catch","error","Math","ceil"],"version":3,"file":"index.52293eb7.js.map"}